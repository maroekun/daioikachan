<source>
  type daioikachan
  bind 0.0.0.0
  port 4979
  min_threads 0
  max_threads 4
  backlog 1024
  @label @raw
</source>

<label @raw>
  <match **>
    type copy
    <store>
      type stdout
    </store>
    <store>
      type relabel
      @label @irc
    </store>
  </match>
</label>

<label @irc>
  <match **>
    type irc
    host "#{ENV['IRC_SERVER']}"
    port 6667
    nick daioikachan
    user daioikachan
    real daioikachan
    command %s
    command_keys command
    channel %s
    channel_keys channel
    message %s
    out_keys message
    send_interval 2s # IRC has Excess Flood limit, this default value is taken from ikachan
  </match>
</label>
